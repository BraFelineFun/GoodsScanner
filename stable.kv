WindowManager:
    FirstScreen:
    SecondScreen:
    ReportScreen:
    CameraScreen:


<FirstScreen>:
    name: "first"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        Label:
            text: "Сканер штрихкода"
            font_size: 30

        Button:
            text: "Следующий экран"
            font_size: 32
            on_release:
                app.root.current = "second"
                root.manager.transition.direction = "left"


<SecondScreen>:
    name: "second"
    BoxLayout:
        orientation: "vertical"
        size: root.width, root.height
        #Label:
            #text: "ВТорой экран"
            #font_size: 30
        Button:
            text: "Отправить репорт"
            font_size: 32
            on_press:
                app.root.current = "report"
                root.manager.transition.direction = "down"

        Button:
            text: "Предыдущий экран"
            font_size: 32
            on_release:
                app.root.current = "first"
                root.manager.transition.direction = "right"

        Button:
            text: "Camera2"
            font_size: 32
            on_release:
                app.root.current = "camera"
                root.manager.transition.direction = "left"

<CameraScreen>
    name: "camera"
    orientation: 'vertical'

    #Camera:
        #id: camera
       # resolution: (640, root.width)
        #play: False
        ##on_load: camera.play = True

    BoxLayout:
        orientation: 'vertical'

        Camera:
            id: camera
            resolution: (1280, 720)
            play: False
            #on_load: camera.play = True

        ToggleButton:
            text: 'Play'
            on_press: camera.play = not camera.play
            size_hint_y: None
            height: '48dp'

        Button:
            text: 'GoBack'
            size_hint_y: None
            height: '48dp'
            on_press:
                app.root.current = "second"
                root.manager.transition.direction = "right"

        Button:
            text: "StartScan"
            size_hint_y: None
            height: '48dp'
            on_press: root.startScan()

<ReportScreen>
    name: "report"
    BoxLayout:
        orientation: 'vertical'
        TextInput:
            height: '48dp'

        Button:
            text: "Send"
            font_size: 32

        Button:
            text: "Go back"
            font_size: 32
            on_press:
                app.root.current = "second"
                root.manager.transition.direction = "up"